#This script generates a full particle distribution, as an input for the collimation block in SixTrack


# --------------------------------------------------------------------------------------------------------------
# Import libraries and introduce abbreviations
# --------------------------------------------------------------------------------------------------------------
import numpy as np
import scipy as sp
import scipy.stats as stats
from matplotlib import pyplot as plt
from matplotlib import rc

# --------------------------------------------------------------------------------------------------------------
# Text characteristics of the plot
# --------------------------------------------------------------------------------------------------------------
params = {	'backend': 'pdf',
	  		'font.size':20,	
          	'axes.labelsize': 20,
          	'legend.fontsize': 16,
          	'xtick.labelsize': 20,
          	'ytick.labelsize': 20,
	  		'text.usetex':True,
         } 
# --------------------------------------------------------------------------------------------------------------
# Activate LaTeX 
# --------------------------------------------------------------------------------------------------------------        
rc('text.latex', preamble=r'\usepackage{cmbright}')
matplotlib.rcParams.update(params)

# --------------------------------------------------------------------------------------------------------------
#Beam Parameters
# --------------------------------------------------------------------------------------------------------------



# --------------------------------------------------------------------------------------------------------------
#Generation of distribution in x - x'
# --------------------------------------------------------------------------------------------------------------

data 		= np.random.gauss(0, 1)
mu, sigma 	= stats.norm.fit(data)
x 			= np.linspace(-4, 4, 1000)
pdf_fitted	= stats.norm.pdf(x, mu, sigma)


plt.hist(data, bins = 15, histtype = 'step', normed = True)
plt.plot(x, pdf_fitted)

# --------------------------------------------------------------------------------------------------------------
#Generation of distribution in y - y'
# --------------------------------------------------------------------------------------------------------------


# --------------------------------------------------------------------------------------------------------------
#Generation of distribution in z - E
# --------------------------------------------------------------------------------------------------------------


show()